<!DOCTYPE html>
<html lang="da">
  <head>
    <meta charset="utf-8">
    <title>llama.ttf</title>
    <meta name="description" content="llama.ttf: A font file which is also an LLM">
    <link href="css/style.css" rel="stylesheet">
  </head>
  <body>
    <div class="container">
      <h1><code>llama.ttf</code></h1>
      <p><code>llama.ttf</code> is a font file which is also a large language model and an inference engine for that model.</p>
      <h3>Ehm, what?</h3>
      <p><code>llama.ttf</code> is a font file which is also a large language model and an inference engine for that model.</p>
      <h3>Why?</h3>
      <h3>How?</h3>
      <p>
        The font shaping engine <a href="https://en.wikipedia.org/wiki/HarfBuzz">HarfBuzz</a>, used in applications such as Firefox and Chrome,
        comes with a <a href="https://github.com/harfbuzz/harfbuzz/blob/main/docs/wasm-shaper.md">Wasm shaper</a> allowing arbitrary code to be
        used to "shape" text.
        
        <br /><br />
        In particular, this "arbitrary" code could in principle be an entire LLM inference engine with trained parameters bundled inside,
        relying on treating text containing magic symbols for fake "ligatures" to initialize the LLM and use it to generate text.
        <br /><br />
        It could also in principle be an entire LLM inference engine (<a href="https://en.wikipedia.org/wiki/Llama_(language_model)">Llama</a>
        in our case, hence the name) except instead of only being in principle it's what this is.
        <br /><br />
        At the end of the day, what this means is that you can just use the font to run the LLM and e.g. get text generation in <i>any</i>
        Wasm-enabled HarfBuzz-based application; your favorite text editor/email client/whatever without having to wait for the vendor to include
        the "Copilot"-like features that everyone is rushing to implement these days. And everything runs
        completely locally. So perhaps this silly hack is in fact a billion dollar idea!? This also means that you can use your font to
        chat with your font.
      </p>
      <h3>Okay show me</h3>
      <p>So in case that doesn't make sense (after all, does it?), here's an attempt to make it make more sense:</p>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/Q4bOyYctgFI?si=XAAcj3uf02vxdXwM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
      <p>Skip to <a href="https://www.youtube.com/watch?v=Q4bOyYctgFI#t=6m09s">6:09</a> if you just want to see the font in action.</p>
      <h3>Usage</h3>
      <p>Just download <code><a href="https://github.com/fuglede/llama.ttf/raw/master/llamattf/llama.ttf">llama.ttf</a></code> (60 MB download, since it's
        based on the 15M parameter TinyStories-based model demoed above) and use it like you would any other font. Use it somewhere where HarfBuzz is used
        and built with Wasm support.
      
        The simplest way to experiment with this is probably to build <a href="https://github.com/harfbuzz/harfbuzz/tree/4cfc6d8e173e800df086d7be078da2e8c5cfca19">HarfBuzz</a> with <code>-Dwasm=enabled</code> and build
        <a href="https://github.com/bytecodealliance/wasm-micro-runtime/tree/382d52fc05dbb543dfafb969182104d6c4856c63">wasm-micro-runtime</a>,
        then add the resulting shared libraries, <code>libharfbuzz.so.0.60811.0</code> and <code>libiwasm.so</code> to the <code>LD_PRELOAD</code>
        environment variable before running a HarfBuzz-based application such as gedit or GIMP; no recompilation of the applications is required.
      </p>
      <h3>More fun with fonts</h3>
      <p>If this didn't seem pointless enough, here are some other weird things people have done with fonts and LLMs:
        <ul>
          <li>tom7's Super Metroid speedrun documentation-inspired language for formatting text nicely with LLMs: <a href="https://www.youtube.com/watch?v=Y65FRxE7uMc">https://www.youtube.com/watch?v=Y65FRxE7uMc</a></li>
          <li>Erk's presentation on programmable fonts with HarfBuzz-Wasm, very much an inspiration for this one: <a href="https://www.youtube.com/watch?v=Ms1Drb9Vw9M">https://www.youtube.com/watch?v=Ms1Drb9Vw9M</a></li>
          <li>A completely playable Pok√©mon-inspired game inside a font: <a href="https://www.coderelay.io/fontemon.html">https://www.coderelay.io/fontemon.html</a></li>
        </ul>
      </p>
    </div>
  </body>
</html>

